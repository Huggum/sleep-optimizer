<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flight Attendant Sleep Optimizer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.6;
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      font-weight: bold;
      display: block;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #007BFF;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    #output {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>
  <h1>Flight Attendant Sleep Optimizer</h1>
  <form id="sleepForm">
    <div class="form-group">
      <label for="departingFrom">Departing From (Airport Code)</label>
      <input type="text" id="departingFrom" required>
    </div>
    <div class="form-group">
      <label for="departureDate">Departure Date</label>
      <input type="date" id="departureDate" required>
    </div>
    <div class="form-group">
      <label for="arrivalAirport">Arrival Airport (Airport Code)</label>
      <input type="text" id="arrivalAirport" required>
    </div>
    <div class="form-group">
      <label for="arrivalTime">Scheduled Arrival Time (24h Format)</label>
      <input type="time" id="arrivalTime" required>
    </div>
    <div class="form-group">
      <label for="arrivalTimeToHotelRoom">Estimated Time of Arrival to Hotel Room (24h Format)</label>
      <input type="time" id="arrivalTimeToHotelRoom" required>
    </div>
    <div class="form-group">
      <label for="totalSleepPreviousNight">Total Sleep from Previous Night (Hours)</label>
      <input type="number" id="totalSleepPreviousNight" min="0" max="15" required>
    </div>
    <div class="form-group">
      <label for="wakeUpTime">Wake-Up Time (24h Format)</label>
      <input type="time" id="wakeUpTime" required>
    </div>
    <div class="form-group">
      <label for="showTime">Show Time (24h Format)</label>
      <input type="time" id="showTime" required>
    </div>
    <button type="submit">Generate Sleep Schedule</button>
  </form>

  <div id="output"></div>

  <script>
    document.getElementById("sleepForm").addEventListener("submit", function (e) {
      e.preventDefault();

      // Collecting input values
      const data = {
        departingFrom: document.getElementById("departingFrom").value,
        departureDate: document.getElementById("departureDate").value,
        arrivalAirport: document.getElementById("arrivalAirport").value,
        arrivalTime: document.getElementById("arrivalTime").value,
        arrivalTimeToHotelRoom: document.getElementById("arrivalTimeToHotelRoom").value,
        totalSleepPreviousNight: parseInt(document.getElementById("totalSleepPreviousNight").value),
        wakeUpTime: document.getElementById("wakeUpTime").value,
        showTime: document.getElementById("showTime").value,
      };

      // Function to generate the sleep schedule
      function generateSleepSchedule(data) {
        const schedule = [];
        const { 
          departingFrom, departureDate, arrivalAirport, arrivalTime, 
          arrivalTimeToHotelRoom, totalSleepPreviousNight, wakeUpTime, showTime 
        } = data;

        schedule.push(`Departing From: ${departingFrom} On: ${departureDate}`);
        schedule.push(`Scheduled to arrive in: ${arrivalAirport} At: ${arrivalTime}`);
        schedule.push(`Estimated time of arrival to the hotel at: ${arrivalTimeToHotelRoom}`);
        schedule.push(`Total sleep from previous night: ${totalSleepPreviousNight} hours`);
        schedule.push("");

        schedule.push(`Tonight (based on arrival and sleep duration):`);
        const bedtime = 22; // Assume 10 PM bedtime
        const sleepDuration = totalSleepPreviousNight < 7 ? "aim for 7-8 hours" : "aim for 6-7 hours";
        schedule.push(`- Target Bedtime: Aim for ${bedtime}:00–23:00 local time.`);
        schedule.push(`- Sleep Duration: ${sleepDuration}.`);
        schedule.push("- Preparation: Avoid caffeine after 6pm and wind down before bed.");
        schedule.push("");

        schedule.push("Tomorrow Morning:");
        schedule.push(`- Wake-Up Time: Try to wake up by ${wakeUpTime} local time.`);
        schedule.push("- Exposure: Get 30 minutes of natural sunlight after waking.");
        schedule.push("- Stay active to stay alert and avoid taking naps.");
        schedule.push("");

        schedule.push("Tomorrow Night:");
        schedule.push("- Target Bedtime: Aim for 22:00–23:00 local time.");
        schedule.push("- Wind Down: Begin relaxing by 9 PM to prepare for early wake-up.");
        schedule.push("- Avoid screens and heavy meals after 8 PM.");
        schedule.push("");

        schedule.push("Return Flight Day:");
        schedule.push(`- Wake-Up Time: Set your alarm for ${showTime} local time.`);
        schedule.push("- Eat a light, nutritious breakfast.");
        schedule.push("- Avoid caffeine overload to not disrupt your sleep cycle later.");
        schedule.push("");

        schedule.push("Additional Tips:");
        schedule.push("- Hydration: Drink plenty of water, but avoid excessive water intake before bed.");
        schedule.push("- Naps: If needed, take a short 20–30-minute nap before 2 PM.");
        schedule.push("- Melatonin: Consider taking a low dose (0.5–1 mg) of melatonin 30 minutes before bed.");

        return schedule.join("\n");
      }

      // Generate and display the schedule
      const sleepSchedule = generateSleepSchedule(data);
      document.getElementById("output").textContent = sleepSchedule;
    });
  </script>
</body>
</html>
